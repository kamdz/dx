#!/usr/bin/env node
"use strict";var z=Object.create;var h=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var S=(e,s,t,r)=>{if(s&&typeof s=="object"||typeof s=="function")for(let c of N(s))!O.call(e,c)&&c!==t&&h(e,c,{get:()=>s[c],enumerable:!(r=A(s,c))||r.enumerable});return e};var l=(e,s,t)=>(t=e!=null?z(P(e)):{},S(s||!e||!e.__esModule?h(t,"default",{value:e,enumerable:!0}):t,e));var u=require("commander");var j=require("child_process"),y=l(require("os"),1),a=require("path"),n=l(require("fs-extra"),1),E=require("listr2"),_=l(require("picocolors"),1),f=async()=>{let e="kamdz/dx",s=`https://github.com/${e}`,t=n.default.mkdtempSync((0,a.join)(y.default.tmpdir(),"kamdz_dx-")),r=process.cwd(),c=[".git","bin","src","package.json","README.MD","yarn.lock"],d={name:"__PROJECT_NAME__",version:"0.0.0-development",private:!0,description:"",keywords:[],bugs:{url:"https://github.com/__PROJECT_NAME__/issues"},repository:{type:"git",url:"https://github.com/__PROJECT_NAME__"},author:{name:"Kamil Dzwonkowski",email:"npm@kamdz.dev",url:"https://github.com/kamdz"},dependencies:{}},w=new E.Listr([{title:`Updating project with latest ${_.default.bold(`@${e}`)}`,task:(k,v)=>v.newListr([{title:"Cloning template",task:async()=>{(0,j.execSync)(`git clone ${s} ${t} --quiet`)}},{title:"Syncing",task:(D,b)=>{let x=n.default.readdirSync(t).filter(o=>!c.includes(o)).map(o=>({title:o,task:async()=>{await n.default.copy((0,a.join)(t,o),(0,a.join)(r,o))}}));return x.push({title:"package.json",task:async()=>{n.default.readJSON((0,a.join)(r,"package.json")).then(async o=>{let m=await n.default.readJSON((0,a.join)(t,"package.json")),p={...o};Object.keys(p).forEach(i=>{i in d&&(["scripts","devDependencies"].includes(i)?p[i]=Object.assign(p[i],m[i]):p[i]=m[i])}),await n.default.writeJSON((0,a.join)(r,"package.json"),p,{spaces:"  "})}).catch(async()=>{let m={...await n.default.readJSON((0,a.join)(t,"package.json"))};Object.keys(d).forEach(i=>{m[i]=d[i]}),await n.default.writeJSON((0,a.join)(r,"package.json"),m,{spaces:"  "})})}}),b.newListr(x,{concurrent:!0})}}],{rendererOptions:{collapseSubtasks:!1}})}]);try{await w.run(),await n.default.remove(t)}catch(k){console.error(k),process.exit(1)}};var g={name:"@kamdz/dx",version:"1.0.0",private:!0,description:"",keywords:[],bugs:{url:"https://github.com/kamdz/dx/issues"},repository:{type:"git",url:"https://github.com/kamdz/dx"},license:"MIT",author:{name:"Kamil Dzwonkowski",email:"npm@kamdz.dev",url:"https://github.com/kamdz"},type:"module",exports:{import:{types:"./dist/index.d.ts",import:"./dist/index.js"},require:{types:"./dist/index.d.cts",require:"./dist/index.cjs"}},main:"./dist/index.cjs",module:"./dist/index.js",types:"./dist/index.d.ts",bin:"./dist/cli.js",files:["dist","package.json","README.md","CHANGELOG.md","LICENSE"],scripts:{build:"tsup",cli:"tsx bin/cli.ts",commit:"cz",dev:"tsx watch src/index.ts",dx:"npx @kamdz/dx",format:"prettier --write --ignore-unknown .",lint:"eslint . --fix","lint-staged":"lint-staged",prepare:"husky","semantic-release":"semantic-release",start:"tsx src/index.ts",test:"jest --coverage --passWithNoTests","type-check":"tsc --noEmit"},"lint-staged":{"**/*.{ts,tsx,js,jsx,cjs,mjs,}":["eslint --fix"],"**/*.{ts,tsx,js,jsx,json,md,cjs,mjs,yml,yaml}":["prettier --write --ignore-unknown"]},config:{commitizen:{path:"./node_modules/cz-conventional-changelog"}},release:{branches:["main"],plugins:["@semantic-release/commit-analyzer","@semantic-release/release-notes-generator",["@semantic-release/changelog",{changelogFile:"CHANGELOG.md"}],"@semantic-release/npm",["@semantic-release/git",{assets:["dist","package.json","README.md","CHANGELOG.md","LICENSE"],message:"chore(release): ${nextRelease.version} \n\n${nextRelease.notes}"}]]},devDependencies:{"@commitlint/cli":"^19.5.0","@commitlint/config-conventional":"^19.5.0","@eslint/compat":"^1.2.1","@eslint/js":"^9.13.0","@ianvs/prettier-plugin-sort-imports":"^4.3.1","@semantic-release/changelog":"^6.0.3","@semantic-release/git":"^10.0.1","@types/fs-extra":"^11.0.4","@types/jest":"^29.5.13","@types/node":"^22.7.8",commitizen:"^4.3.1","cz-conventional-changelog":"^3.3.0",eslint:"^9.13.0","eslint-config-prettier":"^9.1.0","eslint-plugin-import":"^2.31.0","eslint-plugin-prettier":"^5.2.1",globals:"^15.11.0",husky:"^9.1.6",jest:"^29.7.0","lint-staged":"^15.2.10",prettier:"3.3.3","semantic-release":"^24.1.3","ts-jest":"^29.2.5",tsup:"^8.3.0",tsx:"^4.19.1",typescript:"^5.6.3","typescript-eslint":"^8.11.0"},packageManager:"yarn@4.5.1",dependencies:{commander:"^12.1.0","fs-extra":"^11.2.0",listr2:"^8.2.5",picocolors:"^1.1.1"}};u.program.version(g.version).description(g.description).action(()=>{f()});u.program.parse(process.argv);
//# sourceMappingURL=cli.cjs.map